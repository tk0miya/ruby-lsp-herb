module URI
  class Generic
    def to_standardized_path: () -> String?
  end
end

module RubyLsp
  module Interface = LanguageServer::Protocol::Interface
  module Constant = LanguageServer::Protocol::Constant

  class Addon
  end

  class BaseServer
    def send_message: (untyped message) -> void
    def send_empty_response: (Integer id) -> void
  end

  class GlobalState
    attr_reader workspace_path: String
  end

  class Server < BaseServer
  end

  class Store
    @global_state: GlobalState
    @state: Hash[String, Document[untyped]]

    def set: (uri: URI::Generic, source: String, version: Integer, language_id: Symbol) -> Document[untyped]
  end

  module Requests
    module Support
      class RuboCopRunner
        def initialize: (*String args) -> void
        def run: (String path, String contents, untyped prism_result) -> void
        def formatted_source: () -> String
        attr_reader config_for_working_directory: untyped
      end
    end
  end
end
